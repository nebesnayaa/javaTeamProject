{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\javaTeamProject-main\\\\Frontend\\\\my-registration-app\\\\src\\\\components\\\\pages\\\\pages-component\\\\Lobby-Components\\\\Lobby-page.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport '../../style-page/style-lobby.css';\nimport ModalWindowLobby from \"./Modal-Window-Lobby\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LobbyPage = () => {\n  _s();\n  const [lobbies, setLobbies] = useState([]);\n  const [isLobbyOpen, setIsLobbyOpen] = useState(false);\n  const [name, setLobbyName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userSlots, setUserQuantity] = useState(2); //минимум 2 пользователя \n  const [pack, setPack] = useState(\"\");\n  const [ws, setWs] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [messageText, setMessageText] = useState(\"\");\n\n  // === WebSocket подключение и обработка событий ===\n  useEffect(() => {\n    const socket = new WebSocket(`ws://localhost:8111/api/v1/ws?userID=${localStorage.getItem(\"userId\")}`);\n    socket.onopen = () => {\n      console.log(\"WebSocket connected\");\n      setWs(socket);\n      fetchLobbies();\n    };\n    socket.onclose = event => {\n      console.log(\"WebSocket disconnected: \" + event.reason + \" \" + event.code);\n    };\n    socket.onmessage = event => {\n      const message = JSON.parse(event.data);\n      if (message.Type === \"create\") {\n        if (message.Msg) {\n          const newLobby = {\n            ID: message.Msg.lobby_id,\n            Name: message.Msg.lobby_name,\n            Password: message.Msg.password || \"\",\n            UserSlots: message.Msg.users_slots,\n            Pack: message.Msg.pack_name,\n            users: message.Msg.users ? message.Msg.users.map(user => ({\n              id: user.id,\n              nickname: user.nickname,\n              avatar: \"\"\n            })) : []\n          };\n          setLobbies(prevLobbies => [...prevLobbies, newLobby]);\n          localStorage.setItem('lobbyId', message.Msg.lobby_id.toString());\n          console.log(localStorage.getItem(\"lobbyId\"));\n        } else {\n          console.error(\"Invalid message format for 'create'\");\n        }\n      } else if (message.Type === \"join\") {\n        const newUser = {\n          id: message.Msg.users[0].user_id,\n          nickname: message.Msg.users[0].nickname,\n          avatar: \"\"\n        };\n        setLobbies(prevLobbies => prevLobbies.map(lobby => lobby.ID === message.Msg.lobby_id ? {\n          ...lobby,\n          users: [...lobby.users, newUser]\n        } : lobby));\n        localStorage.setItem(newUser.id + \"_nick\", newUser.nickname);\n        localStorage.setItem('lobbyId', message.Msg.lobby_id.toString());\n      } else if (message.Type === \"leave\") {\n        removeUserFromLobby(message.Msg.lobby_id, message.Msg.users[0].user_id);\n      } else if (message.Type === \"delete\") {\n        setLobbies(prevLobbies => prevLobbies.filter(lobby => lobby.ID.toString() !== message.Msg.lobby_id.toString()));\n      } else if (message.Type === \"chat\") {\n        setMessages(prevMessages => [...prevMessages, message.ChatMsg]);\n      }\n    };\n    socket.onerror = error => {\n      console.error(\"WebSocket error\", error);\n    };\n    return () => {\n      console.log(\"Cleaning up WebSocket connection\");\n      socket.close();\n    };\n    // Dependency array ensures this runs only once when the component mounts\n  }, []);\n  const fetchLobbies = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:50051/lobbies\");\n      console.log(\"Fetched lobbies:\", response.data);\n      setLobbies(response.data.map(lobby => ({\n        ID: lobby.lobby_id,\n        Name: lobby.lobby_name,\n        Password: lobby.Password || \"\",\n        UserSlots: lobby.users_slots,\n        Pack: lobby.pack_name,\n        users: lobby.users ? lobby.users.map(user => ({\n          id: user.user_id,\n          nickname: user.nickname,\n          avatar: user.avatar_url || \"\"\n        })) : []\n      })));\n    } catch (err) {\n      console.error(\"Error fetching lobbies:\", err);\n    }\n  };\n  const sendMessage = () => {\n    if (!messageText) {\n      return;\n    }\n    const userId = localStorage.getItem('userId');\n    const message = {\n      nickname: localStorage.getItem(userId + \"_nick\"),\n      msg: messageText\n    };\n    if (ws) {\n      ws.send(JSON.stringify(message));\n    }\n    setMessageText(\"\");\n  };\n  const handleCreateLobbyOpenMenu = () => {\n    if (localStorage.getItem(\"userId\") && !localStorage.getItem(\"lobbyId\")) {\n      setIsLobbyOpen(true);\n    }\n  };\n  const closeLobby = () => {\n    setIsLobbyOpen(false);\n    setLobbyName(\"\");\n    setPassword(\"\");\n    setUserQuantity(2);\n    setPack(\"\");\n  };\n  const handleLobbyNameChange = e => setLobbyName(e.target.value);\n  const handlePasswordChange = e => setPassword(e.target.value);\n  const handlePackChange = e => setPack(e.target.value);\n  const handleUserQuantityClick = quantity => {\n    setUserQuantity(quantity);\n  };\n  const handleJoinLobby = async lobbyId => {\n    if (!localStorage.getItem(\"userId\")) return;\n    try {\n      const response = await axios.post(\"http://localhost:50051/lobby/join/\" + lobbyId + \"?user_id=\" + localStorage.getItem(\"userId\"), {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      fetchLobbies();\n      closeLobby();\n    } catch (err) {\n      console.error(\"Error joining lobby:\", err);\n    }\n  };\n  const handleCreateLobby = async e => {\n    e.preventDefault();\n\n    // Проверяем, что количество игроков в пределах допустимого диапазона\n    if (userSlots < 2 || userSlots > 4) {\n      alert(\"Players amount should be in range 2-4\");\n      return;\n    }\n    const lobbyData = {\n      UserID: localStorage.getItem(\"userId\"),\n      Name: name,\n      Password: password || \"\",\n      UserSlots: userSlots,\n      Pack: pack\n    };\n    try {\n      const response = await axios.post(\"http://localhost:50051/lobby\", lobbyData, {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      console.log(\"Lobby created successfully:\", response.data);\n      fetchLobbies();\n      closeLobby();\n    } catch (err) {\n      console.error(\"Error creating lobby:\", err);\n    }\n  };\n  const removeUserFromLobby = (lobbyID, userID) => {\n    setLobbies(prevLobbies => prevLobbies.map(lobby => {\n      if (Number(lobby.ID) === lobbyID) {\n        // Remove the user from the lobby's users array\n        lobby.users = lobby.users.filter(user => {\n          var _user$id;\n          return (user === null || user === void 0 ? void 0 : (_user$id = user.id) === null || _user$id === void 0 ? void 0 : _user$id.toString()) !== (userID === null || userID === void 0 ? void 0 : userID.toString());\n        });\n      }\n      return lobby; // Return the lobby, updated or not\n    }));\n  };\n\n  // Функция для покидания лобби\n  const handleLeaveLobby = async lobbyId => {\n    try {\n      await axios.post(`http://localhost:50051/lobby/leave/${lobbyId}?user_id=${localStorage.getItem(\"userId\")}`);\n      localStorage.removeItem('lobbyId');\n    } catch (err) {\n      console.error(\"Error leaving lobby:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container1\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-messages\",\n        children: messages.length > 0 ? messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: message.nickname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this), \": \", message.msg]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No messages yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"send-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter your message\",\n          value: messageText || \"\" // Ensure it always has a string value\n          ,\n          onChange: e => setMessageText(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendMessage,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-block\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"central-block-lobby\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bottom-block\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCreateLobbyOpenMenu,\n            className: \"lobby-button\",\n            children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043B\\u043E\\u0431\\u0431\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"probel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"lobby-list\",\n          children: lobbies.length > 0 ? lobbies.map(lobby => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"lobby-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"lobby-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: lobby.Name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Players: \", lobby.users.length, \" / \", lobby.UserSlots]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Pack: \", lobby.Pack]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"player-boxes\",\n              children: [...Array(lobby.UserSlots)].map((_, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"player-box\",\n                onClick: () => !lobby.users[index] && handleJoinLobby(lobby.ID),\n                children: lobby.users[index] ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: lobby.users[index].avatar,\n                    alt: lobby.users[index].nickname,\n                    className: \"avatar\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: lobby.users[index].nickname\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"waiting-text\",\n                    children: \"Waiting...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"leave-button\",\n              onClick: () => handleLeaveLobby(lobby.ID),\n              children: \"Leave\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 19\n            }, this)]\n          }, lobby.ID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Lobbies not found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), isLobbyOpen && /*#__PURE__*/_jsxDEV(ModalWindowLobby, {\n      closeLobby: closeLobby,\n      fetchLobbies: fetchLobbies,\n      name: name,\n      password: password,\n      pack: pack,\n      userSlots: userSlots,\n      handleLobbyNameChange: handleLobbyNameChange,\n      handlePasswordChange: handlePasswordChange,\n      handlePackChange: handlePackChange,\n      handleUserQuantityClick: handleUserQuantityClick,\n      handleCreateLobby: handleCreateLobby\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 5\n  }, this);\n};\n_s(LobbyPage, \"RKlyHuegLBeqlVxRBjlgKJQUTIE=\");\n_c = LobbyPage;\nexport default LobbyPage;\nvar _c;\n$RefreshReg$(_c, \"LobbyPage\");","map":{"version":3,"names":["React","useEffect","useState","axios","ModalWindowLobby","jsxDEV","_jsxDEV","Fragment","_Fragment","LobbyPage","_s","lobbies","setLobbies","isLobbyOpen","setIsLobbyOpen","name","setLobbyName","password","setPassword","userSlots","setUserQuantity","pack","setPack","ws","setWs","messages","setMessages","messageText","setMessageText","socket","WebSocket","localStorage","getItem","onopen","console","log","fetchLobbies","onclose","event","reason","code","onmessage","message","JSON","parse","data","Type","Msg","newLobby","ID","lobby_id","Name","lobby_name","Password","UserSlots","users_slots","Pack","pack_name","users","map","user","id","nickname","avatar","prevLobbies","setItem","toString","error","newUser","user_id","lobby","removeUserFromLobby","filter","prevMessages","ChatMsg","onerror","close","response","get","avatar_url","err","sendMessage","userId","msg","send","stringify","handleCreateLobbyOpenMenu","closeLobby","handleLobbyNameChange","e","target","value","handlePasswordChange","handlePackChange","handleUserQuantityClick","quantity","handleJoinLobby","lobbyId","post","headers","handleCreateLobby","preventDefault","alert","lobbyData","UserID","lobbyID","userID","Number","_user$id","handleLeaveLobby","removeItem","className","children","length","index","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onClick","Array","_","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/OneDrive/Рабочий стол/javaTeamProject-main/Frontend/my-registration-app/src/components/pages/pages-component/Lobby-Components/Lobby-page.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport '../../style-page/style-lobby.css';\r\nimport ModalWindowLobby from \"./Modal-Window-Lobby\";\r\nimport ChatMain from \"./Chat-main\";\r\nimport { User, Message, Lobby, ChatMainProps } from \"./Interface\"; \r\n\r\nconst LobbyPage: React.FC = () => {\r\n  const [lobbies, setLobbies] = useState<any[]>([]);\r\n  const [isLobbyOpen, setIsLobbyOpen] = useState(false);\r\n  const [name, setLobbyName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [userSlots, setUserQuantity] = useState(2); //минимум 2 пользователя \r\n  const [pack, setPack] = useState(\"\");\r\n  const [ws, setWs] = useState<WebSocket | null>(null);\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [messageText, setMessageText] = useState<string>(\"\");\r\n\r\n  // === WebSocket подключение и обработка событий ===\r\n  useEffect(() => {\r\n    const socket = new WebSocket(`ws://localhost:8111/api/v1/ws?userID=${localStorage.getItem(\"userId\")}`);\r\n\r\n    socket.onopen = () => {\r\n      console.log(\"WebSocket connected\");\r\n      setWs(socket);\r\n      fetchLobbies();\r\n    };\r\n\r\n    socket.onclose = (event) => {\r\n      console.log(\"WebSocket disconnected: \" + event.reason + \" \" + event.code);\r\n    };\r\n\r\n    socket.onmessage = (event) => {\r\n      const message = JSON.parse(event.data);\r\n      if (message.Type === \"create\") {\r\n        if (message.Msg) {\r\n          const newLobby = {\r\n            ID: message.Msg.lobby_id,\r\n            Name: message.Msg.lobby_name,\r\n            Password: message.Msg.password || \"\",\r\n            UserSlots: message.Msg.users_slots,\r\n            Pack: message.Msg.pack_name,\r\n            users: message.Msg.users ? message.Msg.users.map((user: any) => ({\r\n              id: user.id,\r\n              nickname: user.nickname,\r\n              avatar: \"\"\r\n            })) : []\r\n          };\r\n          setLobbies((prevLobbies) => [...prevLobbies, newLobby]);\r\n          localStorage.setItem('lobbyId', message.Msg.lobby_id.toString());\r\n          console.log(localStorage.getItem(\"lobbyId\"))\r\n        } else {\r\n          console.error(\"Invalid message format for 'create'\");\r\n        }\r\n      } else if (message.Type === \"join\") {\r\n        const newUser = {\r\n          id: message.Msg.users[0].user_id,\r\n          nickname: message.Msg.users[0].nickname,\r\n          avatar: \"\"\r\n        };\r\n        setLobbies((prevLobbies) =>\r\n          prevLobbies.map((lobby) =>\r\n            lobby.ID === message.Msg.lobby_id ? { ...lobby, users: [...lobby.users, newUser] } : lobby\r\n          )\r\n        );\r\n        localStorage.setItem(newUser.id + \"_nick\", newUser.nickname);\r\n        localStorage.setItem('lobbyId', message.Msg.lobby_id.toString());\r\n      } else if (message.Type === \"leave\") {\r\n        removeUserFromLobby(message.Msg.lobby_id, message.Msg.users[0].user_id);\r\n      } else if (message.Type === \"delete\") {\r\n        setLobbies((prevLobbies) =>\r\n          prevLobbies.filter((lobby) => lobby.ID.toString() !== message.Msg.lobby_id.toString())\r\n        );\r\n      } else if (message.Type === \"chat\") {\r\n        setMessages((prevMessages) => [...prevMessages, message.ChatMsg]);\r\n      }\r\n    };\r\n    \r\n    socket.onerror = (error) => {\r\n      console.error(\"WebSocket error\", error);\r\n    };\r\n\r\n    return () => {\r\n      console.log(\"Cleaning up WebSocket connection\");\r\n      socket.close();\r\n    };\r\n  // Dependency array ensures this runs only once when the component mounts\r\n  }, []);\r\n\r\n\r\n  const fetchLobbies = async () => {\r\n    try {\r\n      const response = await axios.get(\"http://localhost:50051/lobbies\");\r\n\r\n      console.log(\"Fetched lobbies:\", response.data);\r\n\r\n      setLobbies(response.data.map((lobby: any) => ({\r\n        ID: lobby.lobby_id,\r\n        Name: lobby.lobby_name,\r\n        Password: lobby.Password || \"\",\r\n        UserSlots: lobby.users_slots,\r\n        Pack: lobby.pack_name,\r\n        users: lobby.users ? lobby.users.map((user: any) => ({\r\n          id: user.user_id,\r\n          nickname: user.nickname,\r\n          avatar: user.avatar_url || \"\" \r\n        })) : []\r\n      })));\r\n    } catch (err) {\r\n      console.error(\"Error fetching lobbies:\", err);\r\n    }\r\n  };\r\n\r\n  const sendMessage = () => {\r\n    if (!messageText) {\r\n      return;\r\n    }\r\n    const userId = localStorage.getItem('userId');\r\n    const message = {\r\n      nickname: localStorage.getItem(userId + \"_nick\"),\r\n      msg: messageText,\r\n    };\r\n   \r\n    if (ws){\r\n      ws.send(JSON.stringify(message));\r\n    }\r\n  \r\n    setMessageText(\"\");\r\n  };\r\n\r\n  const handleCreateLobbyOpenMenu = () => {\r\n    if (localStorage.getItem(\"userId\") && !localStorage.getItem(\"lobbyId\")) {\r\n      setIsLobbyOpen(true);\r\n    }\r\n  };\r\n\r\n  const closeLobby = () => {\r\n    setIsLobbyOpen(false);\r\n    setLobbyName(\"\");\r\n    setPassword(\"\");\r\n    setUserQuantity(2);\r\n    setPack(\"\");\r\n  };\r\n\r\n  const handleLobbyNameChange = (e: React.ChangeEvent<HTMLInputElement>) => setLobbyName(e.target.value);\r\n  const handlePasswordChange = (e: React.ChangeEvent<HTMLInputElement>) => setPassword(e.target.value);\r\n  const handlePackChange = (e: React.ChangeEvent<HTMLInputElement>) => setPack(e.target.value);\r\n\r\n  const handleUserQuantityClick = (quantity: number) => {\r\n    setUserQuantity(quantity);\r\n  };\r\n\r\n  const handleJoinLobby = async (lobbyId: number) => {\r\n    if (!localStorage.getItem(\"userId\")) return;\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:50051/lobby/join/\" + lobbyId + \"?user_id=\" + localStorage.getItem(\"userId\"),\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n        }\r\n      );\r\n\r\n      fetchLobbies();\r\n      closeLobby();\r\n    } catch (err) {\r\n      console.error(\"Error joining lobby:\", err);\r\n    }\r\n  };\r\n\r\n  const handleCreateLobby = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    // Проверяем, что количество игроков в пределах допустимого диапазона\r\n    if (userSlots < 2 || userSlots > 4) {\r\n      alert(\"Players amount should be in range 2-4\");\r\n      return;\r\n    }\r\n\r\n    const lobbyData = {\r\n      UserID: localStorage.getItem(\"userId\"),\r\n      Name: name,\r\n      Password: password || \"\",\r\n      UserSlots: userSlots,\r\n      Pack: pack,\r\n    };\r\n\r\n    try {\r\n      const response = await axios.post(\"http://localhost:50051/lobby\", lobbyData, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      console.log(\"Lobby created successfully:\", response.data);\r\n      fetchLobbies();\r\n      closeLobby();\r\n    } catch (err) {\r\n      console.error(\"Error creating lobby:\", err);\r\n    }\r\n  };\r\n\r\n  const removeUserFromLobby = (lobbyID: number, userID: string) => {\r\n    setLobbies((prevLobbies) => \r\n      prevLobbies.map((lobby) => {\r\n        if (Number(lobby.ID) === lobbyID) {\r\n          // Remove the user from the lobby's users array\r\n          lobby.users = lobby.users.filter((user) => user?.id?.toString() !== userID?.toString());\r\n        }\r\n        return lobby; // Return the lobby, updated or not\r\n      })\r\n    );\r\n  };\r\n\r\n  // Функция для покидания лобби\r\n  const handleLeaveLobby = async (lobbyId: number) => {\r\n    try {\r\n      await axios.post(`http://localhost:50051/lobby/leave/${lobbyId}?user_id=${localStorage.getItem(\"userId\")}`);\r\n      localStorage.removeItem('lobbyId');\r\n    } catch (err) {\r\n      console.error(\"Error leaving lobby:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container1\">\r\n      <div className=\"chat-container\">\r\n      <div className=\"chat-messages\">\r\n        {messages.length > 0 ? (\r\n          messages.map((message, index) => (\r\n            <div key={index}>\r\n              <strong>{message.nickname}</strong>: {message.msg}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No messages yet</p>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"send-message\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter your message\"\r\n          value={messageText || \"\"} // Ensure it always has a string value\r\n          onChange={(e) => setMessageText(e.target.value)}\r\n        />\r\n        <button onClick={sendMessage}>Send</button>\r\n      </div>\r\n    </div>\r\n\r\n      <div className=\"main-block\">\r\n        {/* <div className=\"bottom-block\">\r\n          <button onClick={handleCreateLobbyOpenMenu} className=\"lobby-button\">\r\n            Create lobby\r\n          </button>\r\n        </div> */}\r\n\r\n        {/* Список лобби */}\r\n        <div className=\"central-block-lobby\">\r\n          <div className=\"bottom-block\">\r\n            <button onClick={handleCreateLobbyOpenMenu} className=\"lobby-button\">\r\n              Создать лобби\r\n            </button>\r\n          </div>  \r\n          <div className=\"probel\">\r\n            \r\n          </div>\r\n        <ul className=\"lobby-list\">\r\n            {lobbies.length > 0 ? (\r\n              lobbies.map((lobby) => (\r\n                <li key={lobby.ID} className=\"lobby-item\">\r\n                  <div className=\"lobby-info\">\r\n                    <h3>{lobby.Name}</h3>\r\n                    <p>Players: {lobby.users.length} / {lobby.UserSlots}</p>\r\n                    <p>Pack: {lobby.Pack}</p>\r\n                  </div>\r\n                  <div className=\"player-boxes\">\r\n                    {[...Array(lobby.UserSlots)].map((_, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"player-box\"\r\n                      onClick={() => !lobby.users[index] && handleJoinLobby(lobby.ID)}\r\n                      >\r\n                          {lobby.users[index] ? (\r\n                        <>\r\n                        <img\r\n                          src={lobby.users[index].avatar}\r\n                          alt={lobby.users[index].nickname}\r\n                          className=\"avatar\"\r\n                        />\r\n                          <span>{lobby.users[index].nickname}</span>\r\n                        </>\r\n                        ) : (\r\n                        <>\r\n                          {/* <div className=\"empty-slot-content\">\r\n                          <img alt=\"Пустой слот\" className=\"plus-icon\" />\r\n                      </div> Пока не удаляй если увидишь это*/} \r\n                      <p className=\"waiting-text\">Waiting...</p>\r\n                      </>\r\n                      )}\r\n                    </div>\r\n                    ))}\r\n                  </div>\r\n                  <button\r\n                    className=\"leave-button\"\r\n                    onClick={() => handleLeaveLobby(lobby.ID)}\r\n                  >\r\n                    Leave\r\n                  </button>\r\n                </li>\r\n              ))\r\n            ) : (\r\n              <p>Lobbies not found</p>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      {isLobbyOpen && (\r\n        <ModalWindowLobby\r\n          closeLobby={closeLobby}\r\n          fetchLobbies={fetchLobbies}\r\n          name={name}\r\n          password={password}\r\n          pack={pack}\r\n          userSlots={userSlots}\r\n          handleLobbyNameChange={handleLobbyNameChange}\r\n          handlePasswordChange={handlePasswordChange}\r\n          handlePackChange={handlePackChange}\r\n          handleUserQuantityClick={handleUserQuantityClick}\r\n          handleCreateLobby={handleCreateLobby}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LobbyPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}